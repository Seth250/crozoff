{% extends "todo/base.html" %}

{% load static %}

{% block title %} Login Page {% endblock title %}

{% block content %}
{% if messages %}
<div class="message-container">
  {% for message in messages %}
    <div class="message message-{{ message.tags }} message-fixed">
      <p>{{ message }}</p>
      <span class="close" title="close this message">&times;</span>
    </div>
  {% endfor %}
</div>
{% endif %}
<div class="container-acc">
  <div class="container-acc__header">
    <h2>Login</h2>
  </div>
  {% if form.errors %}
  <div class="login-error">
    <p>Invalid Username or Password.</p>
  </div>
  {% endif %}
  <div class="form-container-acc">
    <form method="POST">
      {% csrf_token %}
      <div class="form-row">
        {{ form.username.label_tag }}
        <div class="input-container">
          <i class="far fa-user"></i>
          {{ form.username }}
        </div>
      </div>
      <div class="form-row">
        {{ form.password.label_tag }}
        <div class="input-container">
          <i class="fas fa-lock"></i>
          {{ form.password }}
          <a class="password-toggler">
            <i class="far fa-eye-slash"></i>
            <i class="far fa-eye"></i>
          </a>
        </div>
        <p>
          <a href="{% url 'accounts:password_reset' %}">Forgot Password?</a>
        </p>
      </div>
      <div class="form-row">
        <button type="submit" class="submit-button">LOGIN</button>
      </div>
      <div class="form-row">
        <p class="form-message">
          Don't have an account? <a href="{% url 'accounts:signup' %}">Signup here</a>
        </p>
      </div>
    </form>
  </div>
</div>
{% endblock content %}

{% block script %}
<script src="{% static 'accounts/js/main.js' %}"></script>
{% endblock script %}